# 🚀 UniSub - NFT 訂閱平台

UniSub 是一個基於區塊鏈的去中心化 NFT 訂閱平台，允許服務提供商創建訂閱服務，用戶使用 USDT 購買訂閱，並以 NFT 形式獲得訂閱憑證。

## 🎯 核心功能

### Consumer (消費者) 頁面
- **錢包連接**: MetaMask 整合，支援 Sepolia 測試網
- **瀏覽服務**: 顯示所有可用的訂閱服務
- **購買訂閱**: 一鍵訂閱流程，USDT 授權處理
- **管理訂閱**: 查看所有擁有的訂閱 NFT，續費功能
- **測試功能**: 領取測試 USDT 代幣

### Provider (服務提供商) 頁面
- **服務管理**: 查看和管理創建的訂閱服務
- **創建服務**: 創建新的訂閱服務（名稱、符號、價格、期間）
- **統計數據**: 總服務數、活躍服務、訂閱者數量、收益統計
- **服務詳情**: 每個服務的詳細信息和統計

## 🛠️ 技術棧

- **前端**: Next.js 14 + TypeScript + Tailwind CSS
- **區塊鏈**: Ethereum (Sepolia 測試網)
- **智能合約**: Solidity
- **Web3**: ethers.js v5.7.2
- **UI 組件**: Lucide React Icons

## 🚀 快速開始

### 安裝依賴
```bash
npm install
```

### 啟動開發服務器
```bash
npm run dev
```

### 訪問應用
打開 [http://localhost:3000](http://localhost:3000) 查看應用。

## 🔗 已部署合約地址 (Sepolia 測試網)

```
Mock USDT: 0x51E4026e3ea3E57C57F27a46D1568916e915350f
Subscription Factory: 0xdCb1A78DdC236b34606fC316c715e509Db5EBDcf

預設服務:
- Netflix Premium: 0x1D62ecD70C4B7091A9f809e2d05db6075BDF6eee (15 USDT/月)
- Spotify Premium: 0x63cD8d64757DE5f52Fb87d7727d2b4DFCe9B5d05 (10 USDT/月)  
- YouTube Premium: 0xdAAB147E490274524292255eD021c15563eb006C (12 USDT/月)
```

## 📱 頁面功能詳解

### Consumer 頁面 (`/consumer`)

#### 主要功能
1. **錢包連接**
   - MetaMask 整合
   - 顯示 ETH 和 USDT 餘額
   - 網路狀態檢查

2. **瀏覽服務**
   - 顯示所有可用訂閱服務
   - 服務卡片包含：名稱、價格、期間
   - 一鍵訂閱功能

3. **我的訂閱**
   - 顯示所有擁有的訂閱 NFT
   - 訂閱狀態 (有效/過期)
   - 到期時間倒計時
   - 續費功能

4. **測試功能**
   - 領取測試 USDT 按鈕
   - 每次領取 1000 USDT

#### 使用流程
1. 連接 MetaMask 錢包
2. 確保在 Sepolia 測試網
3. 領取測試 USDT (可選)
4. 瀏覽可用服務
5. 選擇服務並訂閱
6. 管理訂閱和續費

### Provider 頁面 (`/provider`)

#### 主要功能
1. **服務管理儀表板**
   - 總服務數統計
   - 活躍服務數統計
   - 總訂閱者數量
   - 總收益統計

2. **創建新服務**
   - 服務名稱和符號
   - 價格設定 (USDT)
   - 期間設定 (天數)
   - 服務描述

3. **服務列表**
   - 顯示創建的所有服務
   - 每個服務的詳細統計
   - 服務狀態管理

#### 使用流程
1. 連接 MetaMask 錢包
2. 確保在 Sepolia 測試網
3. 點擊 "Create New Service"
4. 填寫服務信息
5. 確認創建服務
6. 查看服務統計和管理

## 🔧 開發說明

### 合約 ABI
所有合約 ABI 都定義在各自的頁面文件中：
- `FACTORY_ABI`: 工廠合約接口
- `SUBSCRIPTION_ABI`: 訂閱合約接口
- `USDT_ABI`: USDT 代幣接口

### 樣式系統
使用 Tailwind CSS 和自定義 CSS 類：
- 響應式設計
- 深色模式支持
- 動畫效果
- 玻璃態效果

### 狀態管理
使用 React Hooks 進行狀態管理：
- `useState`: 本地狀態
- `useEffect`: 副作用處理
- 自定義 hooks (可擴展)

## 🎨 設計特色

- **現代化界面**: 使用漸層、陰影、圓角等現代設計元素
- **深色模式**: 完整的深色模式支持
- **動畫效果**: 平滑的過渡動畫和懸停效果
- **響應式設計**: 適配各種屏幕尺寸
- **用戶體驗**: 清晰的狀態反饋和錯誤處理

## 🚨 注意事項

### 安全性
- 僅支持 Sepolia 測試網操作
- 所有交易都需要用戶確認
- 合約地址硬編碼，確保安全性

### 用戶體驗
- 清晰的錯誤訊息
- 交易狀態即時反饋
- Loading 狀態處理
- 失敗重試機制

### 數據格式
- USDT 使用 6 位小數 (1 USDT = 1,000,000 wei)
- 時間以 Unix 時間戳存儲
- 價格以最小單位存儲

## 📚 參考資源

- **測試網**: Sepolia Testnet
- **區塊瀏覽器**: https://sepolia.etherscan.io/
- **測試 ETH**: https://sepoliafaucet.com/
- **框架**: Next.js + ethers.js

## ✅ 開發檢核清單

### Consumer 頁面
- [x] 錢包連接功能
- [x] 服務瀏覽界面
- [x] 訂閱購買流程
- [x] 我的訂閱管理
- [x] 續費功能
- [x] 測試代幣領取

### Provider 頁面  
- [x] 服務創建表單
- [x] 服務管理界面
- [x] 統計數據展示
- [x] 訂閱者查看

### 通用功能
- [x] 響應式設計
- [x] 錯誤處理
- [x] Loading 狀態
- [x] 交易確認流程

---

*💡 提示: 這是一個完整的 NFT 訂閱平台，專注於為用戶提供流暢的 Web3 訂閱體驗。合約已經完全開發並部署完成，前端開發可以直接基於這些合約接口進行。* 